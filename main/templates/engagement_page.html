{% extends "layout.html" %}
{% block content %}
{% load crispy_forms_tags %}
{% load static %}

<div class="body-content">
    <div class="row">
        <div class="col">
            <style>
                h2, h3 {display:inline;}
            </style>
            <h2>{{client.name}} - </h2><h3>{{engagement.name}}</h3>
            <div style="padding-top: 20px;" class="row">
                <div class="btn-group" role="group" aria-label="Basic example" style="padding-left: 10px;">
                    <button class="btn btn-primary show-form" href="#" data-url="{% url 'edit_eligibility' client.slug engagement.slug %}">Edit Eligiblity Rules</a></button>
                    <button class="btn btn-info" data-toggle="modal" data-target="#fm-modal-grid">View Eligibility Rules</button>
                    <button class="btn btn-primary upload-census_form" data-toggle="modal" data-url="{% url 'upload_census' client.slug engagement.slug %}">Upload Census Data</a></button>
                    <button class="btn btn-info show-key_employee-form" data-url="{% url 'key_employees' client.slug engagement.slug %}">Select Key Employees</a></button>
                    <button class="btn btn-primary show-census_statistics-form" data-url="{% url 'census_statistics' client.slug engagement.slug %}">Census Statistics</a></button>
                    <button class="btn btn-info show-selections_form" data-url="{% url 'make_selections' client.slug engagement.slug %}">Make Selections</a></button>  
                    <button class="btn btn-primary view-selections_form" data-url="{% url 'view_selections' client.slug engagement.slug %}">View Selections</a></button>         
                </div>        
                <table class="table table-striped table-bordered table-sm" cellspacing="0" width="100%" id="census_table">
                    <thead>
                    <th style="width:25%">First Name</th>
                    <th style="width:50%">Last Name</th>
                    <th style="width:50%">Social Security #</th>
                    <th style="width:50%">DOB</th>
                    <th style="width:50%">DOH</th>
                    <th style="width:50%">DOT</th>
                    <th style="width:50%">DORH</th>
                    <th style="width:50%">Excluded</th>
                    <th style="width:50%">Gross Wages</th>
                    <th style="width:50%">Eligible Wages</th>
                    <th style="width:50%">Hours Worked</th>
                    <th style="width:50%">Employee Pre Tax Deferral</th>
                    <th style="width:50%">Employer Pre Tax Deferral</th>
                    <th style="width:50%">Employee Roth Deferral</th>
                    <th style="width:50%">Employer Roth Deferral</th>
                    <th style="width:50%">Employee Catch-up</th>
                    <th style="width:50%">Employer Catch-up</th>
                    <th style="width:50%">Effective Deferral</th>
                    <th style="width:50%">Selection</th>
                    <th style="width:50%">Key Employee</th>
                    <th style="width:50%">Eligible</th>
                    <th style="width:50%">Participating</th>

                    </thead>
                    <tbody>
                        {% include 'census_list.html' %}
                    </tbody>
                </table>                
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="modal-eligibility_rules">
    <div class="modal-dialog">
        <div class="modal-content"></div>
    </div>
</div>

<div class="modal fade" id="modal-key_employee">
    <div class="modal-dialog">
        <div class="modal-content"></div>
    </div>
</div>
<div class="modal fade" id="modal-census_statistics">
    <div class="modal-dialog">
        <div class="modal-content"></div>
    </div>
</div>

<div class="modal fade" id="modal-selections">
    <div class="modal-dialog">
        <div class="modal-content"></div>
    </div>
</div>

<div class="modal fade" id="modal-view_selections">
    <div class="modal-dialog">
        <div class="modal-content"></div>
    </div>
</div>
<div class="modal fade" id="upload_census">
    <div class="modal-dialog">
        <div class="modal-content"></div>
    </div>
</div>

<div class="modal fade" id="" tabindex="-1"
     role="dialog" aria-labelledBy="fm-modal-grid"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Upload Census Data</h5>
                <button class="close" data-dismiss="modal" aria-label="Cerrar">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    {{census_form|crispy}}
                    <button class="btn btn-primary" type="submit">Upload</button>
                </form>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="fm-modal-grid" tabindex="-1"
     role="dialog" aria-labelledBy="fm-modal-grid"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Eligibility Rules</h5>
                <button class="close" data-dismiss="modal" aria-label="Cerrar">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                {% include 'eligibility_rules.html' %}
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

<div class="ajaxProgress">
    <h3>Loading</h3>
    <img src="{% static 'main/images/ajax-loader.gif' %}" alt="loading"/>
</div>





{% endblock content %}



